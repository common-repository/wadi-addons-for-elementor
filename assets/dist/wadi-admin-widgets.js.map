{"version":3,"file":"wadi-admin-widgets.js","mappings":"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","sources":["webpack:///./admin/style/admin-widgets.scss?e416","webpack:///webpack/bootstrap","webpack:///webpack/runtime/make namespace object","webpack:///./admin/admin-widgets.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './style/admin-widgets.scss';\n\nclass WadiWidgetsAdmin {\n\n    init() {\n        this.handleSaveSettings();\n        this.handleBtnsAction();\n        this.handleProSwitcher();\n    }\n\n    handleSaveSettings () {\n\n        const itemsInput = document.querySelectorAll('.wadi-switcher input');\n        itemsInput.forEach(item => {\n            item.addEventListener('change', () => {\n                this.saveElementsSettings('elements')\n            })\n        })\n    }\n\n\n    handleBtnsAction() {\n\n        const self = this;\n        const settings = wadiAddonsSettings.settings;\n\n        \n            /**\n             * \n             * Enable or disable widgets on button click\n             * \n             */\n            jQuery(\".wadi_elements_status\").on(\n                \"click\",\n                '.wadi_button',\n                function () {\n\n                    var $btn = jQuery(this),\n                        isChecked = $btn.hasClass(\"wadi_button-enable\");\n\n                    if (!$btn.hasClass(\"active\")) {\n                        jQuery(\".wadi_elements_status .wadi_button\").removeClass(\"active\");\n                        $btn.addClass(\"active\");\n\n                        jQuery.ajax(\n                            {\n                                url: settings.ajaxurl,\n                                type: 'POST',\n                                data: {\n                                    action: 'wadi_save_elements_btn',\n                                    security: settings.nonce,\n                                    isGlobalOn: isChecked\n                                },\n                                success: function(response) {\n                                    console.log(\"SUCCESS RESPONSE:\",response);\n                                },\n                                error: function(error) {\n                                    console.log(\"ERROR:\",error);\n                                }\n                            }\n                        );\n\n                    }\n\n                    if (isChecked) {\n                        jQuery(\".wadi_elements_status .wadi_button-unused\").removeClass(\"dimmed\");\n                    } else {\n                        jQuery(\".wadi_elements_status .wadi_button-unused\").addClass(\"dimmed\");\n                    }\n\n                    jQuery(\".wadi-elements .wadi-switchers input\").prop(\"checked\", isChecked);\n\n                    self.saveElementsSettings('elements');\n\n                }\n            );\n\n\n        /**\n         * \n         * Input Switch Slider (iOS switcher) for each element\n         * \n         */\n\n        const wadiInputs = document.querySelectorAll(\".wadi-elements .wadi-switchers input\");\n\n        wadiInputs.forEach(input => {\n            input.addEventListener('change', (e) => {\n                    var $this = jQuery(this),\n                    id = e.target.getAttribute('id'),\n                    isChecked = $this.prop('checked');\n\n\n                jQuery(\"input[name='\" + id + \"']\").prop('checked', isChecked);\n            })\n        })\n\n\n    }\n\n    handleProSwitcher() {\n        const rootUrl = window.location.host;\n\n        let wadiUpgradePage;\n        if (location.protocol === 'https:') {\n            // page is secure\n            wadiUpgradePage = 'https://' +rootUrl + '/wp-admin/admin.php?page=wadi-addons-pricing';\n        } else {\n            wadiUpgradePage = 'http://' +rootUrl + '/wp-admin/admin.php?page=wadi-addons-pricing';\n        }\n\n        // Trigger SWAL for PRO elements\n        jQuery(\".pro_wadi_addon_switcher\").on(\n            'click',\n            function () {                \n\n                var redirectionLink = wadiUpgradePage;\n\n                Swal.fire(\n                    {\n                        title: '<span class=\"wadi_addons_pro_elements\">Get Wadi Addons Pro<span>',\n                        html: 'Invest in high quality PRO addons to take your site(s) to the next level',\n                        type: 'warning',\n                        showCloseButton: true,\n                        showCancelButton: true,\n                        cancelButtonText: \"Upgrade\",\n                        focusConfirm: true,\n                        customClass: 'wadi_swal_modal',\n                        backdrop: `\n                        rgba(0,0,0,0.6)\n                        left top\n                        no-repeat\n                    `\n                    }\n                ).then(\n                    function (res) {\n                        // Handle More Info button\n                        if (res.dismiss === 'cancel') {\n                            window.open(redirectionLink, '_blank');\n                        }\n\n                    }\n                );\n            }\n        );\n\n    }\n\n\n    \n    saveElementsSettings(action) { //save elements settings changes\n        const settings = wadiAddonsSettings.settings;\n\n\n        var $form = null;\n\n        if ('elements' === action) {\n            $form = jQuery('form#wadi_elements_settings');\n            action = 'wadi_elements_settings';\n        }\n\n        jQuery.ajax(\n            {\n                url: settings.ajaxurl,\n                type: 'POST',\n                data: {\n                    action: action,\n                    security: settings.nonce,\n                    fields: $form.serialize(),\n                },\n                success: function (response) {\n\n                    console.log(\"settings saved\");\n                },\n                error: function (err) {\n\n                    console.log(err);\n\n                }\n            }\n        );\n\n    }\n\n\n\n\n\n}\n\nconst wadiWidgets = new WadiWidgetsAdmin;\n\nwadiWidgets.init();\n"],"names":["WadiWidgetsAdmin","handleSaveSettings","handleBtnsAction","handleProSwitcher","itemsInput","document","querySelectorAll","forEach","item","addEventListener","saveElementsSettings","self","settings","wadiAddonsSettings","jQuery","on","$btn","isChecked","hasClass","removeClass","addClass","ajax","url","ajaxurl","type","data","action","security","nonce","isGlobalOn","success","response","console","log","error","prop","wadiInputs","input","e","$this","id","target","getAttribute","rootUrl","window","location","host","wadiUpgradePage","protocol","redirectionLink","Swal","fire","title","html","showCloseButton","showCancelButton","cancelButtonText","focusConfirm","customClass","backdrop","then","res","dismiss","open","$form","fields","serialize","err","wadiWidgets","init"],"sourceRoot":""}