{"version":3,"file":"wadi-paypal-subscription.js","mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB;AACvB,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,oBAAoB;AAC/B,YAAY,iBAAiB;AAC7B;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,oBAAoB;AAC/B,YAAY,eAAe;AAC3B;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,mBAAmB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","sources":["webpack:///../node_modules/@paypal/paypal-js/dist/esm/paypal-js.js","webpack:///./src/style/paypal-subscription.scss?5fe9","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/paypal-subscription.js"],"sourcesContent":["/*!\n * paypal-js v5.1.1 (2022-08-03T17:21:59.218Z)\n * Copyright 2020-present, PayPal, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction findScript(url, attributes) {\n    var currentScript = document.querySelector(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n    if (currentScript === null)\n        return null;\n    var nextScript = createScriptElement(url, attributes);\n    // ignore the data-uid-auto attribute that gets auto-assigned to every script tag\n    var currentScriptClone = currentScript.cloneNode();\n    delete currentScriptClone.dataset.uidAuto;\n    // check if the new script has the same number of data attributes\n    if (Object.keys(currentScriptClone.dataset).length !==\n        Object.keys(nextScript.dataset).length) {\n        return null;\n    }\n    var isExactMatch = true;\n    // check if the data attribute values are the same\n    Object.keys(currentScriptClone.dataset).forEach(function (key) {\n        if (currentScriptClone.dataset[key] !== nextScript.dataset[key]) {\n            isExactMatch = false;\n        }\n    });\n    return isExactMatch ? currentScript : null;\n}\nfunction insertScriptElement(_a) {\n    var url = _a.url, attributes = _a.attributes, onSuccess = _a.onSuccess, onError = _a.onError;\n    var newScript = createScriptElement(url, attributes);\n    newScript.onerror = onError;\n    newScript.onload = onSuccess;\n    document.head.insertBefore(newScript, document.head.firstElementChild);\n}\nfunction processOptions(options) {\n    var sdkBaseURL = \"https://www.paypal.com/sdk/js\";\n    if (options.sdkBaseURL) {\n        sdkBaseURL = options.sdkBaseURL;\n        delete options.sdkBaseURL;\n    }\n    processMerchantID(options);\n    var _a = Object.keys(options)\n        .filter(function (key) {\n        return (typeof options[key] !== \"undefined\" &&\n            options[key] !== null &&\n            options[key] !== \"\");\n    })\n        .reduce(function (accumulator, key) {\n        var value = options[key].toString();\n        if (key.substring(0, 5) === \"data-\") {\n            accumulator.dataAttributes[key] = value;\n        }\n        else {\n            accumulator.queryParams[key] = value;\n        }\n        return accumulator;\n    }, {\n        queryParams: {},\n        dataAttributes: {},\n    }), queryParams = _a.queryParams, dataAttributes = _a.dataAttributes;\n    return {\n        url: \"\".concat(sdkBaseURL, \"?\").concat(objectToQueryString(queryParams)),\n        dataAttributes: dataAttributes,\n    };\n}\nfunction objectToQueryString(params) {\n    var queryString = \"\";\n    Object.keys(params).forEach(function (key) {\n        if (queryString.length !== 0)\n            queryString += \"&\";\n        queryString += key + \"=\" + params[key];\n    });\n    return queryString;\n}\n/**\n * Parse the error message code received from the server during the script load.\n * This function search for the occurrence of this specific string \"/* Original Error:\".\n *\n * @param message the received error response from the server\n * @returns the content of the message if the string string was found.\n *          The whole message otherwise\n */\nfunction parseErrorMessage(message) {\n    var originalErrorText = message.split(\"/* Original Error:\")[1];\n    return originalErrorText\n        ? originalErrorText.replace(/\\n/g, \"\").replace(\"*/\", \"\").trim()\n        : message;\n}\nfunction createScriptElement(url, attributes) {\n    if (attributes === void 0) { attributes = {}; }\n    var newScript = document.createElement(\"script\");\n    newScript.src = url;\n    Object.keys(attributes).forEach(function (key) {\n        newScript.setAttribute(key, attributes[key]);\n        if (key === \"data-csp-nonce\") {\n            newScript.setAttribute(\"nonce\", attributes[\"data-csp-nonce\"]);\n        }\n    });\n    return newScript;\n}\nfunction processMerchantID(options) {\n    var merchantID = options[\"merchant-id\"], dataMerchantID = options[\"data-merchant-id\"];\n    var newMerchantID = \"\";\n    var newDataMerchantID = \"\";\n    if (Array.isArray(merchantID)) {\n        if (merchantID.length > 1) {\n            newMerchantID = \"*\";\n            newDataMerchantID = merchantID.toString();\n        }\n        else {\n            newMerchantID = merchantID.toString();\n        }\n    }\n    else if (typeof merchantID === \"string\" && merchantID.length > 0) {\n        newMerchantID = merchantID;\n    }\n    else if (typeof dataMerchantID === \"string\" &&\n        dataMerchantID.length > 0) {\n        newMerchantID = \"*\";\n        newDataMerchantID = dataMerchantID;\n    }\n    options[\"merchant-id\"] = newMerchantID;\n    options[\"data-merchant-id\"] = newDataMerchantID;\n    return options;\n}\n\n/**\n * Load the Paypal JS SDK script asynchronously.\n *\n * @param {Object} options - used to configure query parameters and data attributes for the JS SDK.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<Object>} paypalObject - reference to the global window PayPal object.\n */\nfunction loadScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = getDefaultPromiseImplementation(); }\n    validateArguments(options, PromisePonyfill);\n    // resolve with null when running in Node\n    if (typeof window === \"undefined\")\n        return PromisePonyfill.resolve(null);\n    var _a = processOptions(options), url = _a.url, dataAttributes = _a.dataAttributes;\n    var namespace = dataAttributes[\"data-namespace\"] || \"paypal\";\n    var existingWindowNamespace = getPayPalWindowNamespace(namespace);\n    // resolve with the existing global paypal namespace when a script with the same params already exists\n    if (findScript(url, dataAttributes) && existingWindowNamespace) {\n        return PromisePonyfill.resolve(existingWindowNamespace);\n    }\n    return loadCustomScript({\n        url: url,\n        attributes: dataAttributes,\n    }, PromisePonyfill).then(function () {\n        var newWindowNamespace = getPayPalWindowNamespace(namespace);\n        if (newWindowNamespace) {\n            return newWindowNamespace;\n        }\n        throw new Error(\"The window.\".concat(namespace, \" global variable is not available.\"));\n    });\n}\n/**\n * Load a custom script asynchronously.\n *\n * @param {Object} options - used to set the script url and attributes.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<void>} returns a promise to indicate if the script was successfully loaded.\n */\nfunction loadCustomScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = getDefaultPromiseImplementation(); }\n    validateArguments(options, PromisePonyfill);\n    var url = options.url, attributes = options.attributes;\n    if (typeof url !== \"string\" || url.length === 0) {\n        throw new Error(\"Invalid url.\");\n    }\n    if (typeof attributes !== \"undefined\" && typeof attributes !== \"object\") {\n        throw new Error(\"Expected attributes to be an object.\");\n    }\n    return new PromisePonyfill(function (resolve, reject) {\n        // resolve with undefined when running in Node\n        if (typeof window === \"undefined\")\n            return resolve();\n        insertScriptElement({\n            url: url,\n            attributes: attributes,\n            onSuccess: function () { return resolve(); },\n            onError: function () {\n                var defaultError = new Error(\"The script \\\"\".concat(url, \"\\\" failed to load.\"));\n                if (!window.fetch) {\n                    return reject(defaultError);\n                }\n                // Fetch the error reason from the response body for validation errors\n                return fetch(url)\n                    .then(function (response) {\n                    if (response.status === 200) {\n                        reject(defaultError);\n                    }\n                    return response.text();\n                })\n                    .then(function (message) {\n                    var parseMessage = parseErrorMessage(message);\n                    reject(new Error(parseMessage));\n                })\n                    .catch(function (err) {\n                    reject(err);\n                });\n            },\n        });\n    });\n}\nfunction getDefaultPromiseImplementation() {\n    if (typeof Promise === \"undefined\") {\n        throw new Error(\"Promise is undefined. To resolve the issue, use a Promise polyfill.\");\n    }\n    return Promise;\n}\nfunction getPayPalWindowNamespace(namespace) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return window[namespace];\n}\nfunction validateArguments(options, PromisePonyfill) {\n    if (typeof options !== \"object\" || options === null) {\n        throw new Error(\"Expected an options object.\");\n    }\n    if (typeof PromisePonyfill !== \"undefined\" &&\n        typeof PromisePonyfill !== \"function\") {\n        throw new Error(\"Expected PromisePonyfill to be a function.\");\n    }\n}\n\n// replaced with the package.json version at build time\nvar version = \"5.1.1\";\n\nexport { loadCustomScript, loadScript, version };\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './style/paypal-subscription.scss';\nimport { loadScript } from \"@paypal/paypal-js\";\n\nclass WadiPayPalSubscription extends elementorModules.frontend.handlers.Base {\n    \n    getDefaultSettings() {\n        return {\n          selectors: {\n            wadiPayPalSubscriptionContainer: '.wadi_paypal_subscription_container',\n          },\n        }\n      }\n    \n    \n      getDefaultElements() {\n        const selectors = this.getSettings('selectors');\n        const elements = {\n          $wadiPayPalSubscriptionContainerElem: this.$element.find(selectors.wadiPayPalSubscriptionContainer),\n        };\n    \n        return elements;\n      }\n    \n      bindEvents() {\n        this.initiate();\n      }\n\n      initiate() {\n        const _this = this;\n        const elementsSettings = this.getElementSettings();\n        const currentDeviceMode = elementorFrontend.getCurrentDeviceMode();\n        const selectors = this.getSettings('selectors');\n        \n        const wadiPaypalsubscriptionSettings = {\n            wadiPayPalsubscriptionContainers: document.querySelectorAll('.wadi_paypal_subscription_container'),\n            wadiPayPalsubscriptionContainer: document.querySelector('.wadi_paypal_subscription_container_'+ this.$element[0].getAttribute(\"data-id\")),\n            wadiPaypalButtonStyleLayout: elementsSettings.wadi_paypal_subscription_paypal_buttons_layout ? elementsSettings.wadi_paypal_subscription_paypal_buttons_layout : 'vertical', \n            wadiPaypalButtonStyleColor: elementsSettings.wadi_paypal_subscription_paypal_buttons_color ? elementsSettings.wadi_paypal_subscription_paypal_buttons_color : 'gold', \n            wadiPaypalButtonStyleShape: elementsSettings.wadi_paypal_subscription_paypal_buttons_shape ? elementsSettings.wadi_paypal_subscription_paypal_buttons_shape : 'rect', \n            wadiItemsRepeater: elementsSettings.wadi_paypal_subscription_preset_amount_to_donate ?  elementsSettings.wadi_paypal_subscription_preset_amount_to_donate: [], \n        }\n        _this.wadiPayPalCheckout(wadiPaypalsubscriptionSettings);\n    \n        }\n\n        \n    wadiPayPalCheckout(settings) {\n       \n  \n          let paypal;\n  \n          let wadiPaypalClientID, wadiPaypalCurrency;\n            if(settings.wadiPayPalsubscriptionContainers[0].dataset.paypalSettings ) {\n              wadiPaypalClientID = JSON.parse(settings.wadiPayPalsubscriptionContainers[0].dataset.paypalSettings).client_id;\n            }\n            if(settings.wadiPayPalsubscriptionContainers[0].dataset.paypalSettings ) {\n              wadiPaypalCurrency = JSON.parse(settings.wadiPayPalsubscriptionContainers[0].dataset.paypalSettings).currency;\n            }\n  \n            try {\n                paypal = loadScript({\n                  \"client-id\": wadiPaypalClientID,\n                  \"currency\": wadiPaypalCurrency,\n                  'disable-funding': 'card',\n                  intent: 'subscription',\n                  vault: true,\n                });\n            } catch (error) {\n                console.error(\"failed to load the PayPal JS SDK script\", error);\n            }\n  \n  \n            const paypalSubscriptionContainers = [...settings.wadiPayPalsubscriptionContainers];\n  \n            let _this = this;\n            if(paypalSubscriptionContainers) {\n              paypal.then((paypal) => {\n                if(paypal) {\n                  let wadiPaypalButtons;\n                  try {\n                    paypalSubscriptionContainers.forEach((item,index) => {\n                      const paypalButtonSettings = JSON.parse(item.dataset.paypalButtonSettings);\n                      const paypalSettings = JSON.parse(item.dataset.paypalSettings);\n  \n                      let tagline;\n                      \n                      tagline = 'yes' == paypalButtonSettings.tagline ? true : false;\n\n\n                    let paypalSubscriptionCurrency;\n                    if(wadiPaypalCurrency) {\n                      paypalSubscriptionCurrency = wadiPaypalCurrency;\n                    } else {\n                      paypalSubscriptionCurrency = paypalSettings.widget_currency;\n                    }\n\n\n                    let productShippingAmount;\n\n                    if('yes' === paypalSettings.is_shipping_amount ) {\n                      productShippingAmount = paypalSettings.product_shipping_amount;\n                    } else {\n                      productShippingAmount = 0;\n                    }\n\n                    let paypalSubscriptionQuantity;\n                    if('yes' === paypalSettings.is_subscription_qty) {\n\n                      if( 'radio' == paypalSettings.subscription_qty_type ) {\n                        const radiosLabels =  item.querySelector('.wadi_radio_buttons').querySelectorAll('label');\n  \n                        radiosLabels.forEach(((radio, index) => {\n  \n                          let radioSelectedValue;\n                          if(radio) {\n                            radio.addEventListener('click', (e) => {\n                              \n                              radioSelectedValue =  e.target.value;\n                              paypalSubscriptionQuantity  = radioSelectedValue;\n                              // inputValue.value = paypalSubscriptionQuantity\n  \n                            })\n                          }\n                        }))\n                      }\n                      else if( 'select' == paypalSettings.subscription_qty_type ) {\n  \n                        paypalSubscriptionQuantity = item.querySelector('.wadi_subscription_qty').value;\n                        item.querySelector('.wadi_subscription_qty').addEventListener('change', (e) => {\n                          let selectValue = e.target.value;\n                          paypalSubscriptionQuantity = selectValue;\n                          // inputValue.value = paypalSubscriptionQuantity\n                        })\n\n                      }\n                      else if( 'input' == paypalSettings.subscription_qty_type ) {\n                        paypalSubscriptionQuantity = item.querySelector('.wadi_subscription_qty').value;\n                        item.querySelector('.wadi_subscription_qty').addEventListener('input',function (evt) {\n                          \n                          let selectInputVal = evt.target.value\n                          paypalSubscriptionQuantity = selectInputVal\n                          // inputValue.value = paypalSubscriptionQuantity\n  \n                        })\n\n                      }\n                    }\n\n\n\n                    paypal.Buttons(\n                      {\n                          style: {\n                            layout: paypalButtonSettings.layout,\n                            color:  paypalButtonSettings.color,\n                            shape:  paypalButtonSettings.shape,\n                            height: paypalButtonSettings.height,\n                            label:  paypalButtonSettings.label,\n                            ... 'vertical' != paypalButtonSettings.layout && {\n                              tagline: tagline\n                            }\n                          },\n                          createSubscription: function(data, actions) {\n                            console.log(\"subscription data\", data); \n                            console.log(\"subscription actions\", actions); \n                            return actions.subscription.create({\n                              /* Creates the subscription */\n                              plan_id: paypalSettings.plan_id, // One subscription Plan P-20Y64231W3536560MMMXO3EQ || Mulitple Subscription Plan P-3E656054TB2879126MMXQ6PQ\n                              auto_renewal: true,\n                              ... 'yes' == paypalSettings.is_subscription_qty && {\n                                quantity: paypalSubscriptionQuantity || 1,\n                              },\n                              shipping_amount: {\n                                currency_code: paypalSubscriptionCurrency,\n                                value: productShippingAmount,\n                              },\n                            });\n                          },\n                          onApprove: function(data, actions) {\n                            console.log(\"Subscription ID: \",data.subscriptionID); // You can add optional success message for the subscriber here\n                            _this.paymentSuccess(item);\n                          },\n                      }\n                    ).render(item.querySelector('#wadi_paypal_subscription_paypal_button'));\n                  })\n      \n                  } catch(error) {\n                    console.error(\"failed to render the PayPal Buttons\", error);\n                  }\n                }\n            })\n          }\n  \n        }\n\n        paymentSuccess(theElement) {\n\n          let paymentSuccessElem = document.createElement('div');\n          paymentSuccessElem.textContent = 'Subscription Payment was successful.';\n          paymentSuccessElem.classList.add('wadi_subscription_payment_success', 'hidden');\n          theElement.append(paymentSuccessElem);\n\n          if(paymentSuccessElem.classList.contains('hidden')) {\n              paymentSuccessElem.classList.remove('hidden');\n              setTimeout(() => {\n                paymentSuccessElem.classList.add('hidden');\n              },  5000);\n          }\n\n        }\n      \n}\n\n\n\njQuery(window).on(\"elementor/frontend/init\", () => {\n    const addHandler = ($element) => {\n      elementorFrontend.elementsHandler.addHandler(WadiPayPalSubscription, {\n        $element,\n      });\n    };\n  \n    elementorFrontend.hooks.addAction(\n      \"frontend/element_ready/wadi-paypal-subscription-addon.default\",\n      addHandler\n    );\n  });\n"],"names":["loadScript","WadiPayPalSubscription","selectors","wadiPayPalSubscriptionContainer","getSettings","elements","$wadiPayPalSubscriptionContainerElem","$element","find","initiate","_this","elementsSettings","getElementSettings","currentDeviceMode","elementorFrontend","getCurrentDeviceMode","wadiPaypalsubscriptionSettings","wadiPayPalsubscriptionContainers","document","querySelectorAll","wadiPayPalsubscriptionContainer","querySelector","getAttribute","wadiPaypalButtonStyleLayout","wadi_paypal_subscription_paypal_buttons_layout","wadiPaypalButtonStyleColor","wadi_paypal_subscription_paypal_buttons_color","wadiPaypalButtonStyleShape","wadi_paypal_subscription_paypal_buttons_shape","wadiItemsRepeater","wadi_paypal_subscription_preset_amount_to_donate","wadiPayPalCheckout","settings","paypal","wadiPaypalClientID","wadiPaypalCurrency","dataset","paypalSettings","JSON","parse","client_id","currency","intent","vault","error","console","paypalSubscriptionContainers","then","wadiPaypalButtons","forEach","item","index","paypalButtonSettings","tagline","paypalSubscriptionCurrency","widget_currency","productShippingAmount","is_shipping_amount","product_shipping_amount","paypalSubscriptionQuantity","is_subscription_qty","subscription_qty_type","radiosLabels","radio","radioSelectedValue","addEventListener","e","target","value","selectValue","evt","selectInputVal","Buttons","style","layout","color","shape","height","label","createSubscription","data","actions","log","subscription","create","plan_id","auto_renewal","quantity","shipping_amount","currency_code","onApprove","subscriptionID","paymentSuccess","render","theElement","paymentSuccessElem","createElement","textContent","classList","add","append","contains","remove","setTimeout","elementorModules","frontend","handlers","Base","jQuery","window","on","addHandler","elementsHandler","hooks","addAction"],"sourceRoot":""}